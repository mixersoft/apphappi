<div class="container">
  <div class="row">
    <div class="span2">
      <!--Nav/Sidebar content-->
      <accordion>
        <accordion-group class='drawer inverse' is-open="drawer.isDrawerOpen">
          <accordion-heading>
            <i class='fa fa-bars fa-lg'></i>
          </accordion-heading>
          <div class='item'><input ng-model="drawer.query" placeholder="Search"></div>
          <div class='item'>
            <button type="button" ng-click="shuffleDeck()"  class="btn btn-xs btn-default">Shuffle</button>
          </div>

          <accordion close-others="true">
            <accordion-group ng-repeat="group in drawer.json.data" is-open="group.isOpen" class='drawer-group inverse'>
              <accordion-heading>
                <span ng-bind-html="group.label" ng-click="drawer.forceGroupOpen(group)"></span>
                <span ng-bind="group.count" class="badge badge-default"></span>
              </accordion-heading>
              <div ng-repeat="options in group.items" 
              class="item"
              ng-class="{active: options.name==drawer.drawerItemState.state.active}"
              ng-click="itemClick(options)">
                <span ng-bind-html="options.label"></span>
                <span ng-if="['completed','passed','all'].indexOf(options.name)>-1" class="badge badge-default">{{(cards|filter:options.filter).length}}</span>
              </div>
            </accordion-group>
          </accordion>
        </accordion-group> 
      </accordion>
      <!--/ Nav/Sidebar content-->
    </div>
    <div class="span10">
      <!--Body content-->
      <div ng-model="card" ng-show='!card'
      class="challenge card empty-card summary list-unstyled text-center">
        <div class="header">
          <figure class="icon">
            <i class="icon fa fa-meh-o fa-3x"></i>
            <figcaption class="category">Nothin' here...</figcaption>
          </figure>  
        </div>  
        <div class="body">
          <h2 class="title">Move on, there's nothing to see here...</h2>
        </div>
        <div class="footer">
          <div class='btn-group'>
            <button type="button" class="btn btn-primary" 
            ng-click="drawerShowAll()">Show All Cards</button>
          </div>
        </div>
      </div>

      <div ng-model="card" ng-show='!!card' 
      class="challenge card summary list-unstyled text-center">
        <div class="header">
          <figure class="icon">
            <i class="icon {{card.icon}} fa-3x"></i>
            <figcaption class="category">{{card.category.join(":")}}</figcaption>
          </figure>  
        </div>  
        <div class="body">
          <h4 class="heading">Find a Happi moment</h4>
          <h2 class="title">{{card.title}}</h2>
          <p class="description text-left">{{card.description}}</p> 
          <div class="meta well">
            <div class="header inverse">Challenge</div>
            <dl class="challenge-stats stats-wrap force-dl-horizontal">
              <div><b>{{card.humanize.completions}} completed</b></div>
              <dt>Accept</dt><dd>{{card.humanize.acceptPct | number:1}}%</dd>
              <dt>Pass</dt><dd>{{card.humanize.passPct | number:1}}%</dd>
              <dt>Avg Time</dt><dd>{{card.humanize.avgDuration}}</dd>
              <rating value="card.humanize.avgRating" readonly='true' state-on="'fa fa-star'" state-off="'fa fa-star-o'"></rating>
              <span class="label label-default" title="average rating for this challenge">{{card.humanize.avgRating}}</span>
            </dl>
          </div>
        </div>
        <div class="footer">
          <div class='btn-group status-new status-pass status-all'
          ng-show="['new','pass'].indexOf(card.status)>=0">
            <button type="button" class="btn btn-primary">Accept</button>
            <button type="button" class="btn btn-default">Later</button>
            <button type="button" ng-click="nextCard()"  class="btn btn-default">Pass</button>
          </div>
          <div class="btn-group status-active"
          ng-show="['active'].indexOf(card.status)>=0">
            <button type="button" class="btn btn-default">Done</button>
            <button type="button" class="btn btn-primary"><i class="fa fa-camera"></i> Camera Roll</button>
            <button type="button" class="btn btn-default" ng-click="passCard()">Pass</button>
          </div> 
          <div class="btn-group status-complete"
          ng-show="['complete'].indexOf(card.status)>=0">
            <button type="button" class="btn btn-primary">Open</button>
            <button type="button" class="btn btn-default" title="repeat this challenge"><i class="fa fa-copy"></i> Repeat</button>
            <button type="button" class="btn btn-default" ng-click="nextCard()"  
            ng-show="!drawer.filter">Pass</button>
            <button type="button" class="btn btn-default" ng-click="nextCard()"  
            ng-show="drawer.filter.status=='complete'">Next</button>
          </div>
          <div class="btn-group status-sleep"
          ng-show="['sleep'].indexOf(card.status)>=0">
            <button type="button" class="btn btn-primary">Wake</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>